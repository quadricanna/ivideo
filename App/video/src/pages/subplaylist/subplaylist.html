<ion-header>
  <ion-navbar>
    <ion-title>
        {{name}}
    </ion-title>
    <ion-buttons end>
      {{diretories.amount}} Videos
    </ion-buttons>
  </ion-navbar>
  <ion-searchbar type="search" autocomplete="on"  debounce="200" autocorrect="off" (ionInput)="getFilterItems()" [(ngModel)] = "filter"></ion-searchbar>

</ion-header>

<ion-content>
    <ion-refresher (ionRefresh)="loadFiles($event)">
        <ion-refresher-content pullingIcon="arrow-dropdown"
        pullingText="Pull to refresh"
        refreshingSpinner="circles"
        refreshingText="Refreshing..."></ion-refresher-content>
      </ion-refresher>
  <ion-card *ngIf="hasloaded && diretories.songs.length == 0">
    <ion-card-header>
            You have no videos in your list?
          </ion-card-header>
        <ion-card-content>
            Search for videos and add them to your playlist
      </ion-card-content>
    </ion-card>
    <ion-card *ngIf="hasloaded && diretories.songs.length == 0">
        <ion-card-header>
            You <u>still</u> had videos in your playlist?
          </ion-card-header>
        <ion-card-content>
            We have added new features ;)
            <br/>Please close the imusic app completely and restart it again
      </ion-card-content>
    </ion-card>

  <ion-list *ngIf="filteredVideos.length > 0">
    <ion-list-header>Videos</ion-list-header>
    <ion-list>
      <ion-item  *ngFor="let dir of filteredVideos; let i = index;" >
        <ion-avatar item-start>
            <img *ngIf="dir.thumb" [src]="dir.thumb | imagePipe"/>
          </ion-avatar>
          <span (click)="playFiles(dir)">
            <h2 text-wrap>{{dir.name | titlePipe}}</h2>
          </span>
          <button ion-button clear item-end small outline (click)="more(dir, i)">  
            <ion-icon class="more" name="more"></ion-icon>
          </button>
        </ion-item>
      </ion-list>
  </ion-list>
</ion-content>
